<section class="device-details">
  <div class="device-details__header">
    <div class="device-details__back">
      <a routerLink="/devices" class="back-link">
        ← Назад к устройствам
      </a>
    </div>
    <h1 class="device-details__title">Сессии устройства</h1>
    <div class="device-details__device-id">
      {{ deviceId() }}
    </div>
  </div>

  @if (isLoading()) {
    <div class="loading">Загрузка сессий...</div>
  } @else if (hasError()) {
    <div class="error">Не удалось загрузить сессии устройства</div>
  } @else {
    @if (sessions().length === 0) {
      <div class="empty">Сессий не найдено</div>
    } @else {
      <div class="stats">
        <div class="stat-item">
          <span class="stat-label">Всего сессий:</span>
          <span class="stat-value">{{ sessions().length }}</span>
        </div>
      </div>

      <table class="sessions-table" role="table" aria-label="Сессии устройства">
        <thead>
        <tr>
          <th scope="col">Устройство</th>
          <th scope="col">Начало</th>
          <th scope="col">Конец</th>
          <th scope="col">Длительность</th>
          <th scope="col">Версия</th>
        </tr>
        </thead>
        <tbody>
          @for (session of sessions(); track session._id) {
            <tr>
              <td>{{ session.name }}</td>
              <td>{{ formatDate(session.startTime) }}</td>
              <td>{{ formatDate(session.endTime) }}</td>
              <td>{{ formatDuration(session.startTime, session.endTime) }}</td>
              <td>{{ session.version }}</td>
            </tr>
          }
        </tbody>
      </table>
    }
  }
</section>